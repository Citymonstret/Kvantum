buildscript {
    repositories {
        jcenter()
        maven {
            url "https://plugins.gradle.org/m2/"
        }
    }
    dependencies {
        classpath 'com.github.jengelman.gradle.plugins:shadow:1.2.3'
        classpath "gradle.plugin.nl.javadude.gradle.plugins:license-gradle-plugin:0.13.1"
    }
}

task wrapper(type: Wrapper) {
    gradleVersion = '2.14.1'
}

apply plugin: 'java'
apply plugin: 'maven'
apply plugin: 'idea'
apply plugin: 'com.github.johnrengelman.shadow'
apply plugin: "com.github.hierynomus.license"


group = 'com.intellectualsites'
version = '2.1.0'

description = """"""

jar {
    manifest {
        attributes  'Implementation-Title': 'IntellectualServer',
                    'Implementation-Version': version,
                    'Main-Class': 'com.plotsquared.iserver.core.IntellectualServerMain'
    }
}

sourceCompatibility = 1.8
targetCompatibility = 1.8

license {
    header rootProject.file('HEADER')
}

repositories {
     maven { url "https://jitpack.io" }
     maven { url "http://repo.maven.apache.org/maven2" }
    flatDir {
        dirs 'libs'
    }
}

task writeVersionToFile << {
    File file = new File(projectDir, "version.txt");
    new File(projectDir, "old-version.txt").text = file.text;
    file.text = version;
}

dependencies {
    testCompile 'junit:junit:4.12'

    compile group: 'com.cedarsoftware', name: 'json-io', version:'2.9.3'
    compile 'com.github.Sauilitired:Configurable:0.0.3'
    compile group: 'org.yaml', name: 'snakeyaml', version:'1.14'
    compile group: 'org.lesscss', name: 'lesscss', version:'1.7.0.1.1'
    compile group: 'org.apache.commons', name: 'commons-io', version:'1.3.2'
    compile group: 'org.xerial', name: 'sqlite-jdbc', version:'3.8.7'
    compile group: 'org.json', name: 'json', version:'20080701'
    compile group: 'org.fusesource.jansi', name: 'jansi', version: '1.13'
    compile name: 'JCDP-1.25-win'
    compile group: 'com.beust', name: 'jcommander', version: '1.48'
    compile group: 'org.apache.commons', name: 'commons-lang3', version: '3.4'
    compile group: 'org.mindrot', name: 'jbcrypt', version: '0.3m'
    compile 'org.ehcache:ehcache:3.1.1'
    compile 'io.dropwizard.metrics:metrics-core:3.1.0'
}
